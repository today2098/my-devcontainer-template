services:
  devcontainer:
    build:
      context: ../..
      dockerfile: .devcontainer/minimum/Dockerfile
      args:
        USERNAME: vscode
        GOPATH: /go
        GOMODCACHE: /go/pkg/mod
    volumes:
      - go_mod_cache:/go/pkg/mod:delegated
      - ../..:/workspaces/yourworkspace:cached
    command: ["sleep", "infinity"]
    restart: always

volumes:
  go_mod_cache:
